<?xml version="1.0" encoding="UTF-8"?>
<ujf.verimag.bip.Core.Modules:Package xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ujf.verimag.bip.Core.ActionLanguage.Actions="http:///ujf/verimag/bip/Core/ActionLanguage/Actions.ecore" xmlns:ujf.verimag.bip.Core.ActionLanguage.Expressions="http:///ujf/verimag/bip/Core/ActionLanguage/Expressions.ecore" xmlns:ujf.verimag.bip.Core.Behaviors="http:///ujf/verimag/bip/Core/Behaviors.ecore" xmlns:ujf.verimag.bip.Core.Interactions="http:///ujf/verimag/bip/Core/Interactions.ecore" xmlns:ujf.verimag.bip.Core.Modules="http:///ujf/verimag/bip/Core/Modules.ecore" xmlns:ujf.verimag.bip.Core.PortExpressions="http:///ujf/verimag/bip/Core/PortExpressions.ecore" name="protocol">
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:PortType" name="Port"/>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:PortType" name="Sync"/>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:PortType" name="IDMess">
    <dataParameter name="id" type="//@dataType.0"/>
    <dataParameter name="m" type="//@dataType.0"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:PortType" name="BufferIDMess">
    <dataParameter name="f" type="//@dataType.1"/>
    <dataParameter name="id" type="//@dataType.0"/>
    <dataParameter name="m" type="//@dataType.0"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:ConnectorType" name="Synchro2">
    <interactionSpecification>
      <interaction>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.4/@portParameter.0"/>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.4/@portParameter.1"/>
      </interaction>
      <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
    </interactionSpecification>
    <portParameter name="p1" type="//@bipType.1"/>
    <portParameter name="p2" type="//@bipType.1"/>
    <definition xsi:type="ujf.verimag.bip.Core.PortExpressions:ACFusion">
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.4/@portParameter.0"/>
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.4/@portParameter.1"/>
    </definition>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:ConnectorType" name="SR_IDMess">
    <interactionSpecification>
      <interaction>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.5/@portParameter.0"/>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.5/@portParameter.1"/>
      </interaction>
      <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
      <downAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.0">
            <portReference target="//@bipType.5/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.0">
            <portReference target="//@bipType.5/@portParameter.0"/>
          </assignedValue>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.1">
            <portReference target="//@bipType.5/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.1">
            <portReference target="//@bipType.5/@portParameter.0"/>
          </assignedValue>
        </content>
      </downAction>
      <upAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </interactionSpecification>
    <portParameter name="p1" type="//@bipType.2"/>
    <portParameter name="p2" type="//@bipType.2"/>
    <definition xsi:type="ujf.verimag.bip.Core.PortExpressions:ACFusion">
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.5/@portParameter.0"/>
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.5/@portParameter.1"/>
    </definition>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:ConnectorType" name="SR_BufferIDMess">
    <interactionSpecification>
      <interaction>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.6/@portParameter.0"/>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.6/@portParameter.1"/>
      </interaction>
      <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
      <downAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.0">
            <portReference target="//@bipType.6/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.0">
              <portReference target="//@bipType.6/@portParameter.0"/>
            </actualData>
          </assignedValue>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.1">
            <portReference target="//@bipType.6/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.1">
            <portReference target="//@bipType.6/@portParameter.0"/>
          </assignedValue>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.2">
            <portReference target="//@bipType.6/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.3/@dataParameter.2">
            <portReference target="//@bipType.6/@portParameter.0"/>
          </assignedValue>
        </content>
      </downAction>
      <upAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </interactionSpecification>
    <portParameter name="p1" type="//@bipType.3"/>
    <portParameter name="p2" type="//@bipType.3"/>
    <definition xsi:type="ujf.verimag.bip.Core.PortExpressions:ACFusion">
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.6/@portParameter.0"/>
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.6/@portParameter.1"/>
    </definition>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="ReceiveComponentProtocol">
    <port name="LOCK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.7/@portDefinition.0"/>
    </port>
    <port name="UNLOCK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.7/@portDefinition.1"/>
    </port>
    <port name="START" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.7/@portDefinition.2"/>
    </port>
    <port name="ACKREF" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.7/@portDefinition.3"/>
    </port>
    <port name="recMSG" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.7/@portDefinition.4"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.7/@behavior/@state.0">
      <state name="rec" incoming="//@bipType.7/@behavior/@transition.0 //@bipType.7/@behavior/@transition.1 //@bipType.7/@behavior/@transition.2 //@bipType.7/@behavior/@transition.3 //@bipType.7/@behavior/@transition.4" outgoing="//@bipType.7/@behavior/@transition.0 //@bipType.7/@behavior/@transition.1 //@bipType.7/@behavior/@transition.2 //@bipType.7/@behavior/@transition.3 //@bipType.7/@behavior/@transition.4"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.7/@behavior/@state.0" destination="//@bipType.7/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.7/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.7/@behavior/@state.0" destination="//@bipType.7/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsLock">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.7/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.7/@behavior/@state.0" destination="//@bipType.7/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsUnlock">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.7/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.7/@behavior/@state.0" destination="//@bipType.7/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsStart">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.7/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.7/@behavior/@state.0" destination="//@bipType.7/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsAckref">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.7/@portDefinition.3"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.0"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.7/@variable.1"/>
          </actualData>
        </content>
      </initialization>
    </behavior>
    <variable name="BufferId" type="//@dataType.1"/>
    <variable name="BufferMess" type="//@dataType.1"/>
    <variable name="id" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0"/>
    <portDefinition name="LOCK" type="//@bipType.2" exposedVariable="//@bipType.7/@variable.2 //@bipType.7/@variable.3"/>
    <portDefinition name="UNLOCK" type="//@bipType.2" exposedVariable="//@bipType.7/@variable.2 //@bipType.7/@variable.3"/>
    <portDefinition name="START" type="//@bipType.2" exposedVariable="//@bipType.7/@variable.2 //@bipType.7/@variable.3"/>
    <portDefinition name="ACKREF" type="//@bipType.2" exposedVariable="//@bipType.7/@variable.2 //@bipType.7/@variable.3"/>
    <portDefinition name="recMSG" type="//@bipType.2" exposedVariable="//@bipType.7/@variable.2 //@bipType.7/@variable.3"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="SendComponentProtocol">
    <port name="sendConn" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.8/@portDefinition.0"/>
    </port>
    <port name="recMSG" type="//@bipType.3">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.8/@portDefinition.1"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.8/@behavior/@state.0">
      <state name="a" incoming="//@bipType.8/@behavior/@transition.2" outgoing="//@bipType.8/@behavior/@transition.0"/>
      <state name="b" incoming="//@bipType.8/@behavior/@transition.0 //@bipType.8/@behavior/@transition.1" outgoing="//@bipType.8/@behavior/@transition.1 //@bipType.8/@behavior/@transition.2"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.8/@behavior/@state.0" destination="//@bipType.8/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.8/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.8/@behavior/@state.1" destination="//@bipType.8/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.2"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.8/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.8/@behavior/@state.1" destination="//@bipType.8/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.8/@variable.1"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.8/@portDefinition.2"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </behavior>
    <variable name="id" type="//@dataType.0"/>
    <variable name="bufferID" type="//@dataType.1"/>
    <variable name="idsend" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0"/>
    <portDefinition name="sendConn" type="//@bipType.2" exposedVariable="//@bipType.8/@variable.0 //@bipType.8/@variable.3"/>
    <portDefinition name="recMSG" type="//@bipType.3" exposedVariable="//@bipType.8/@variable.1 //@bipType.8/@variable.0 //@bipType.8/@variable.3"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="SendDataComponentProtocol">
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.9/@behavior/@state.0">
      <state name="a" incoming="//@bipType.9/@behavior/@transition.2" outgoing="//@bipType.9/@behavior/@transition.0"/>
      <state name="b" incoming="//@bipType.9/@behavior/@transition.0 //@bipType.9/@behavior/@transition.1" outgoing="//@bipType.9/@behavior/@transition.1 //@bipType.9/@behavior/@transition.2"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.9/@behavior/@state.0" destination="//@bipType.9/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.1"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.9/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.9/@behavior/@state.1" destination="//@bipType.9/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.1"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="2"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.1"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.9/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.9/@behavior/@state.1" destination="//@bipType.9/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.9/@portDefinition.0"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.9/@variable.0"/>
          </actualData>
        </content>
      </initialization>
    </behavior>
    <variable name="bufferID" type="//@dataType.1"/>
    <variable name="idsend" type="//@dataType.0"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="ComponentProtocol">
    <port name="sendMSG" type="//@bipType.3">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.10/@portDefinition.0"/>
    </port>
    <port name="LOCK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.10/@portDefinition.1"/>
    </port>
    <port name="START" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.10/@portDefinition.2"/>
    </port>
    <port name="UNLOCK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.10/@portDefinition.3"/>
    </port>
    <port name="ACKREF" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.10/@portDefinition.4"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.10/@behavior/@state.0">
      <state name="ACTIVE" incoming="//@bipType.10/@behavior/@transition.15" outgoing="//@bipType.10/@behavior/@transition.0"/>
      <state name="LockedLockedSend" incoming="//@bipType.10/@behavior/@transition.6" outgoing="//@bipType.10/@behavior/@transition.7"/>
      <state name="OffPart" incoming="//@bipType.10/@behavior/@transition.0" outgoing="//@bipType.10/@behavior/@transition.1 //@bipType.10/@behavior/@transition.2"/>
      <state name="Waiting" incoming="//@bipType.10/@behavior/@transition.1 //@bipType.10/@behavior/@transition.9" outgoing="//@bipType.10/@behavior/@transition.3"/>
      <state name="Locked" incoming="//@bipType.10/@behavior/@transition.2 //@bipType.10/@behavior/@transition.4 //@bipType.10/@behavior/@transition.5 //@bipType.10/@behavior/@transition.7" outgoing="//@bipType.10/@behavior/@transition.5 //@bipType.10/@behavior/@transition.6 //@bipType.10/@behavior/@transition.8 //@bipType.10/@behavior/@transition.10"/>
      <state name="WaitingLockedSend" incoming="//@bipType.10/@behavior/@transition.3" outgoing="//@bipType.10/@behavior/@transition.4"/>
      <state name="SYNC" incoming="//@bipType.10/@behavior/@transition.11 //@bipType.10/@behavior/@transition.12 //@bipType.10/@behavior/@transition.13 //@bipType.10/@behavior/@transition.14" outgoing="//@bipType.10/@behavior/@transition.12 //@bipType.10/@behavior/@transition.13 //@bipType.10/@behavior/@transition.14 //@bipType.10/@behavior/@transition.15"/>
      <state name="LockedSYNCSend" incoming="//@bipType.10/@behavior/@transition.10" outgoing="//@bipType.10/@behavior/@transition.11"/>
      <state name="LockedWaitingSend" incoming="//@bipType.10/@behavior/@transition.8" outgoing="//@bipType.10/@behavior/@transition.9"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.0" destination="//@bipType.10/@behavior/@state.2">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="getMessOfferPart">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol getPorts\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.5"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.2" destination="//@bipType.10/@behavior/@state.3">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MOffer"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 1\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.2" destination="//@bipType.10/@behavior/@state.4">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MParticipate"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 2\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.3" destination="//@bipType.10/@behavior/@state.5">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.1"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MOk"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.5" destination="//@bipType.10/@behavior/@state.4">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 3\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.4" destination="//@bipType.10/@behavior/@state.4">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.1"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 4\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.4" destination="//@bipType.10/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MOk"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.3"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.1" destination="//@bipType.10/@behavior/@state.4">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.1"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 5\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.4" destination="//@bipType.10/@behavior/@state.8">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MOffer"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.3"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.8" destination="//@bipType.10/@behavior/@state.3">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 6\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.4" destination="//@bipType.10/@behavior/@state.7">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveSubBuffer">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.6"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.9"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferSize">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MRefuse"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.7" destination="//@bipType.10/@behavior/@state.6">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 7\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.6" destination="//@bipType.10/@behavior/@state.6">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.9"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="substraction">
              <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.9"/>
              <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 10\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.6" destination="//@bipType.10/@behavior/@state.6">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 8\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.6" destination="//@bipType.10/@behavior/@state.6">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 9\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.3"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.10/@behavior/@state.6" destination="//@bipType.10/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.9"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Component Protocol : Transition 11\n&quot;"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.10/@portDefinition.5"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.7"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.5"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.4"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.10/@variable.8"/>
          </actualData>
        </content>
      </initialization>
    </behavior>
    <variable name="id" type="//@dataType.0">
      <initialValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="negative">
        <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
      </initialValue>
    </variable>
    <variable name="idsender" type="//@dataType.0">
      <initialValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="negative">
        <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
      </initialValue>
    </variable>
    <variable name="messagesender" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0"/>
    <variable name="IS" type="//@dataType.1"/>
    <variable name="bufferID" type="//@dataType.1"/>
    <variable name="locker" type="//@dataType.0"/>
    <variable name="locks" type="//@dataType.1"/>
    <variable name="unlocks" type="//@dataType.1"/>
    <variable name="n" type="//@dataType.0"/>
    <portDefinition name="sendMSG" type="//@bipType.3" exposedVariable="//@bipType.10/@variable.5 //@bipType.10/@variable.0 //@bipType.10/@variable.3"/>
    <portDefinition name="LOCK" type="//@bipType.2" exposedVariable="//@bipType.10/@variable.1 //@bipType.10/@variable.2"/>
    <portDefinition name="START" type="//@bipType.2" exposedVariable="//@bipType.10/@variable.1 //@bipType.10/@variable.2"/>
    <portDefinition name="UNLOCK" type="//@bipType.2" exposedVariable="//@bipType.10/@variable.1 //@bipType.10/@variable.2"/>
    <portDefinition name="ACKREF" type="//@bipType.2" exposedVariable="//@bipType.10/@variable.1 //@bipType.10/@variable.2"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="ReceiveConnectorProtocol">
    <port name="OFFER" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.11/@portDefinition.0"/>
    </port>
    <port name="PARTICIPATE" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.11/@portDefinition.1"/>
    </port>
    <port name="REFUSE" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.11/@portDefinition.2"/>
    </port>
    <port name="OK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.11/@portDefinition.3"/>
    </port>
    <port name="recMSG" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.11/@portDefinition.4"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.11/@behavior/@state.0">
      <state name="rec" incoming="//@bipType.11/@behavior/@transition.0 //@bipType.11/@behavior/@transition.1 //@bipType.11/@behavior/@transition.2 //@bipType.11/@behavior/@transition.3 //@bipType.11/@behavior/@transition.4" outgoing="//@bipType.11/@behavior/@transition.0 //@bipType.11/@behavior/@transition.1 //@bipType.11/@behavior/@transition.2 //@bipType.11/@behavior/@transition.3 //@bipType.11/@behavior/@transition.4"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.11/@behavior/@state.0" destination="//@bipType.11/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.11/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.11/@behavior/@state.0" destination="//@bipType.11/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsOffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.11/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.11/@behavior/@state.0" destination="//@bipType.11/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsParticipate">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.11/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.11/@behavior/@state.0" destination="//@bipType.11/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsRefuse">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.11/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.11/@behavior/@state.0" destination="//@bipType.11/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="TopIsOk">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.3"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.11/@portDefinition.3"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.0"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.11/@variable.1"/>
          </actualData>
        </content>
      </initialization>
    </behavior>
    <variable name="BufferId" type="//@dataType.1"/>
    <variable name="Buffermess" type="//@dataType.1"/>
    <variable name="id" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0"/>
    <portDefinition name="OFFER" type="//@bipType.2" exposedVariable="//@bipType.11/@variable.2 //@bipType.11/@variable.3"/>
    <portDefinition name="PARTICIPATE" type="//@bipType.2" exposedVariable="//@bipType.11/@variable.2 //@bipType.11/@variable.3"/>
    <portDefinition name="REFUSE" type="//@bipType.2" exposedVariable="//@bipType.11/@variable.2 //@bipType.11/@variable.3"/>
    <portDefinition name="OK" type="//@bipType.2" exposedVariable="//@bipType.11/@variable.2 //@bipType.11/@variable.3"/>
    <portDefinition name="recMSG" type="//@bipType.2" exposedVariable="//@bipType.11/@variable.2 //@bipType.11/@variable.3"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="SendConnectorProtocol">
    <port name="recMSG" type="//@bipType.3">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.12/@portDefinition.1"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.12/@behavior/@state.0">
      <state name="a" incoming="//@bipType.12/@behavior/@transition.2" outgoing="//@bipType.12/@behavior/@transition.0"/>
      <state name="b" incoming="//@bipType.12/@behavior/@transition.0 //@bipType.12/@behavior/@transition.1" outgoing="//@bipType.12/@behavior/@transition.1 //@bipType.12/@behavior/@transition.2"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.12/@behavior/@state.0" destination="//@bipType.12/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.12/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.12/@behavior/@state.1" destination="//@bipType.12/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="logical_and">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.1"/>
            </leftOperand>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.2"/>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
          </rightOperand>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveTopElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.1"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.2"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetTopElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.1"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.12/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.12/@behavior/@state.1" destination="//@bipType.12/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.12/@variable.1"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.12/@portDefinition.2"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </behavior>
    <variable name="id" type="//@dataType.0"/>
    <variable name="bufferID" type="//@dataType.1"/>
    <variable name="idsend" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0">
      <initialValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="negative">
        <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
      </initialValue>
    </variable>
    <portDefinition name="sendComp" type="//@bipType.2" exposedVariable="//@bipType.12/@variable.0 //@bipType.12/@variable.3"/>
    <portDefinition name="recMSG" type="//@bipType.3" exposedVariable="//@bipType.12/@variable.1 //@bipType.12/@variable.0 //@bipType.12/@variable.3"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="ConnectorProtocol">
    <dataParameter name="Cardinality" type="//@dataType.0"/>
    <dataParameter name="idconn" type="//@dataType.0"/>
    <port name="OK" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.0"/>
    </port>
    <port name="REFUSE" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.1"/>
    </port>
    <port name="OFFER" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.2"/>
    </port>
    <port name="PARTICIPATE" type="//@bipType.2">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.3"/>
    </port>
    <port name="sendMSG" type="//@bipType.3">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.4"/>
    </port>
    <port name="Guard" type="//@bipType.1">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.5"/>
    </port>
    <port name="START" type="//@bipType.1">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.13/@portDefinition.6"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.13/@behavior/@state.0">
      <state name="ACCEPTING" incoming="//@bipType.13/@behavior/@transition.0 //@bipType.13/@behavior/@transition.1 //@bipType.13/@behavior/@transition.2 //@bipType.13/@behavior/@transition.4 //@bipType.13/@behavior/@transition.6 //@bipType.13/@behavior/@transition.14 //@bipType.13/@behavior/@transition.17" outgoing="//@bipType.13/@behavior/@transition.0 //@bipType.13/@behavior/@transition.1 //@bipType.13/@behavior/@transition.2 //@bipType.13/@behavior/@transition.3 //@bipType.13/@behavior/@transition.5 //@bipType.13/@behavior/@transition.7"/>
      <state name="LOCKING" incoming="//@bipType.13/@behavior/@transition.8 //@bipType.13/@behavior/@transition.10" outgoing="//@bipType.13/@behavior/@transition.9 //@bipType.13/@behavior/@transition.11 //@bipType.13/@behavior/@transition.15"/>
      <state name="ACCEPTINGSend" incoming="//@bipType.13/@behavior/@transition.3" outgoing="//@bipType.13/@behavior/@transition.4"/>
      <state name="ACCEPTINGSend1" incoming="//@bipType.13/@behavior/@transition.5" outgoing="//@bipType.13/@behavior/@transition.6"/>
      <state name="ACCEPTINGSend2"/>
      <state name="ACCEPTINGLOCKNG" incoming="//@bipType.13/@behavior/@transition.7" outgoing="//@bipType.13/@behavior/@transition.8"/>
      <state name="LOCKINGSend" incoming="//@bipType.13/@behavior/@transition.9" outgoing="//@bipType.13/@behavior/@transition.10"/>
      <state name="LOCKINGACCEPTING" incoming="//@bipType.13/@behavior/@transition.11" outgoing="//@bipType.13/@behavior/@transition.12"/>
      <state name="LOCKINGACCEPTING1" incoming="//@bipType.13/@behavior/@transition.12" outgoing="//@bipType.13/@behavior/@transition.13"/>
      <state name="LOCKINGACCEPTING2" incoming="//@bipType.13/@behavior/@transition.13" outgoing="//@bipType.13/@behavior/@transition.14"/>
      <state name="LOCKINGACCEPTING3" incoming="//@bipType.13/@behavior/@transition.15" outgoing="//@bipType.13/@behavior/@transition.16"/>
      <state name="LOCKINGACCEPTING4" incoming="//@bipType.13/@behavior/@transition.16" outgoing="//@bipType.13/@behavior/@transition.17"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 9\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="less_than">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.0"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression">
              <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
              <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 1\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="less_than">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.0"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression">
              <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
              <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral" iValue="1"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 2\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.3"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.2">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="ComputeN">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MAckref"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.2" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 3\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.3">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="logical_and">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.0"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </leftOperand>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
          </rightOperand>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MStart"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </assignedValue>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.6"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.3" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 4\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.0" destination="//@bipType.13/@behavior/@state.5">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="logical_and">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.0"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
            <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </leftOperand>
            <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral"/>
          </rightOperand>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetSmallestElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MLock"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.5"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.5" destination="//@bipType.13/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 5\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.1" destination="//@bipType.13/@behavior/@state.6">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetSmallestElement">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MLock"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.6" destination="//@bipType.13/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 6\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.1" destination="//@bipType.13/@behavior/@state.7">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetIntersect">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MUnlock"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.7" destination="//@bipType.13/@behavior/@state.8">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.8" destination="//@bipType.13/@behavior/@state.9">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MAckref"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.2"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.7"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.9" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 8\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveSubBuffer">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="RemoveSubBuffer">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="substraction">
              <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
              <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferSize">
                <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
              </rightOperand>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
            </actualData>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.1" destination="//@bipType.13/@behavior/@state.10">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BinaryExpression" operator="equality">
          <leftOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="BufferIsEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
          </leftOperand>
          <rightOperand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        </guard>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="AddUniqueElement">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.0"/>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="GetCopyBuffer">
              <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </assignedValue>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.4"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="MStart"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.10" destination="//@bipType.13/@behavior/@state.11">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="SetEmpty">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
              <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
            </actualData>
          </content>
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
            <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
            <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.4"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.13/@behavior/@state.11" destination="//@bipType.13/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
          <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="printf">
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:StringLiteral" sValue="&quot;Connector (%d) Protocol : Transition 7\n&quot;"/>
            <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
          </content>
        </action>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.13/@portDefinition.6"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.7"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.6"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.5"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.9"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:FunctionCallExpression" functionName="CreateBuffer">
          <actualData xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:UnaryExpression" operator="reference">
            <operand xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.8"/>
          </actualData>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.10"/>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:IntegerLiteral"/>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:VariableReference" targetVariable="//@bipType.13/@variable.1"/>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:DataParameterReference" targetParameter="//@bipType.13/@dataParameter.1"/>
        </content>
      </initialization>
    </behavior>
    <variable name="current" type="//@dataType.0"/>
    <variable name="id" type="//@dataType.0"/>
    <variable name="idsender" type="//@dataType.0"/>
    <variable name="messagesender" type="//@dataType.0"/>
    <variable name="message" type="//@dataType.0"/>
    <variable name="bufferID" type="//@dataType.1"/>
    <variable name="shared" type="//@dataType.1"/>
    <variable name="locked" type="//@dataType.1"/>
    <variable name="waiting" type="//@dataType.1"/>
    <variable name="alpha" type="//@dataType.1"/>
    <variable name="n" type="//@dataType.0"/>
    <portDefinition name="OK" type="//@bipType.2" exposedVariable="//@bipType.13/@variable.2 //@bipType.13/@variable.3"/>
    <portDefinition name="REFUSE" type="//@bipType.2" exposedVariable="//@bipType.13/@variable.2 //@bipType.13/@variable.3"/>
    <portDefinition name="OFFER" type="//@bipType.2" exposedVariable="//@bipType.13/@variable.2 //@bipType.13/@variable.3"/>
    <portDefinition name="PARTICIPATE" type="//@bipType.2" exposedVariable="//@bipType.13/@variable.2 //@bipType.13/@variable.3"/>
    <portDefinition name="sendMSG" type="//@bipType.3" exposedVariable="//@bipType.13/@variable.5 //@bipType.13/@variable.1 //@bipType.13/@variable.4"/>
    <portDefinition name="Guard" type="//@bipType.1"/>
    <portDefinition name="START" type="//@bipType.1"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:CompoundType" name="DistributedConnector">
    <subcomponent name="Receive" type="//@bipType.11"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:CompoundType" name="DistriubtedComponent">
    <subcomponent name="Receive" type="//@bipType.7"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Behaviors:AtomType" name="ConnectorTypeBehavior">
    <dataParameter name="Cardinality" type="//@dataType.0"/>
    <port name="Guard" type="//@bipType.1">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.16/@portDefinition.0"/>
    </port>
    <port name="START" type="//@bipType.1">
      <binding xsi:type="ujf.verimag.bip.Core.Behaviors:DefinitionBinding" definition="//@bipType.16/@portDefinition.1"/>
    </port>
    <behavior xsi:type="ujf.verimag.bip.Core.Behaviors:PetriNet" initialState="//@bipType.16/@behavior/@state.0">
      <state name="A0" incoming="//@bipType.16/@behavior/@transition.0 //@bipType.16/@behavior/@transition.1 //@bipType.16/@behavior/@transition.3" outgoing="//@bipType.16/@behavior/@transition.0 //@bipType.16/@behavior/@transition.1 //@bipType.16/@behavior/@transition.2"/>
      <state name="B1" incoming="//@bipType.16/@behavior/@transition.2"/>
      <state name="C1" outgoing="//@bipType.16/@behavior/@transition.3"/>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.16/@behavior/@state.0" destination="//@bipType.16/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.16/@portDefinition.2"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.16/@behavior/@state.0" destination="//@bipType.16/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.16/@portDefinition.0"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.16/@behavior/@state.0" destination="//@bipType.16/@behavior/@state.1">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.16/@portDefinition.1"/>
      </transition>
      <transition xsi:type="ujf.verimag.bip.Core.Behaviors:Transition" origin="//@bipType.16/@behavior/@state.2" destination="//@bipType.16/@behavior/@state.0">
        <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
        <action xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
        <trigger xsi:type="ujf.verimag.bip.Core.Behaviors:PortDefinitionReference" target="//@bipType.16/@portDefinition.2"/>
      </transition>
      <initialization xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </behavior>
    <portDefinition name="Guard" type="//@bipType.1"/>
    <portDefinition name="START" type="//@bipType.1"/>
    <portDefinition name="intern" type="//@bipType.1"/>
  </bipType>
  <bipType xsi:type="ujf.verimag.bip.Core.Interactions:ConnectorType" name="SR_IDMessage">
    <interactionSpecification>
      <interaction>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.17/@portParameter.0"/>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.17/@portParameter.1"/>
      </interaction>
      <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral" bValue="true"/>
      <downAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction">
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.0">
            <portReference target="//@bipType.17/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.0">
            <portReference target="//@bipType.17/@portParameter.0"/>
          </assignedValue>
        </content>
        <content xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:AssignmentAction">
          <assignedTarget xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.1">
            <portReference target="//@bipType.17/@portParameter.1"/>
          </assignedTarget>
          <assignedValue xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:RequiredDataParameterReference" targetParameter="//@bipType.2/@dataParameter.1">
            <portReference target="//@bipType.17/@portParameter.0"/>
          </assignedValue>
        </content>
      </downAction>
      <upAction xsi:type="ujf.verimag.bip.Core.ActionLanguage.Actions:CompositeAction"/>
    </interactionSpecification>
    <interactionSpecification>
      <interaction>
        <port xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.17/@portParameter.0"/>
      </interaction>
      <guard xsi:type="ujf.verimag.bip.Core.ActionLanguage.Expressions:BooleanLiteral"/>
    </interactionSpecification>
    <portParameter name="p1" type="//@bipType.2"/>
    <portParameter name="p2" type="//@bipType.2"/>
    <definition xsi:type="ujf.verimag.bip.Core.PortExpressions:ACFusion">
      <operand xsi:type="ujf.verimag.bip.Core.PortExpressions:ACTyping" type="trig">
        <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.17/@portParameter.0"/>
      </operand>
      <operand xsi:type="ujf.verimag.bip.Core.Interactions:PortParameterReference" target="//@bipType.17/@portParameter.1"/>
    </definition>
  </bipType>
  <dataType xsi:type="ujf.verimag.bip.Core.Modules:OpaqueElement" body="int"/>
  <dataType xsi:type="ujf.verimag.bip.Core.Modules:OpaqueElement" body="buffer"/>
</ujf.verimag.bip.Core.Modules:Package>
